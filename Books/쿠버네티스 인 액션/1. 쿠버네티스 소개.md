# 쿠버네티스 소개

## 쿠버네티스 클러스터 이해

* 마스터 노드는 전체 쿠버네티스 시스템을 제어하고 관리하는 쿠버네티스 컨트롤 플레인을 실행한다
* 워커 노드는 실제 배포되는 컨테이너 어플리케이션을 실행한다

<img width="785" alt="image" src="https://github.com/Be-poz/TIL/assets/45073750/c1c91122-57eb-454c-8c30-951d299815b5">

### 컨트롤 플레인

컨트롤 플레인은 클러스터를 제어하고 작동시킨다. 하나의 마스터 노드에서 실행되거나 여러 노드로 분할되고 복제돼 고가용성을 보장할 수 있는 여러 구성 요소로 구성된다.

* 쿠버네티스 API 서버는 사용자, 컨트롤 플레인 구성 요소와 통신한다.
* 스케줄러는 애플리케이션의 배포를 담당한다.(애플리케이션의 배포 가능한 각 구성 요소를 워크 노드에 할당)
* 컨트롤러 매니저는 구성 요소 복제본, 워커 노드 추적, 노드 장애 처리 등과 같은 크러스터단의 기능을 수행한다.
* Etcd는 클러스터 구성을 지속적으로 저장하는 신뢰할 수 있는 분산 데이터 저장소다.

### 노드

워커 노드는 컨테이너화된 애플리케이션을 실행하는 시스템이다. 

* 컨테이너를 실행하는 도커, rkt 또는 다른 컨테이너 런타임
* API 서버와 통신하고 노드의 컨테이너를 관리하는 Kubelet
* 애플리케이션 구성 요소 간에 네트워크 트래픽을 로드밸런싱하는 쿠버네티스 서비스 프록시(kube-proxy)

<br/>

## 쿠버네티스 사용의 장점

* 애플리케이션 배포의 단순화
  * 쿠버네티스는 모든 워커 노드를 하나의 배포 플랫폼으로 제공하기 때문에 개발자 자체적으로 배포를 시작할 수 있으며 클러스터를 구성하는 서버에 관해 알 필요가 없다.
* 하드웨어 활용도 높이기
  * 애플리케이션 실행 지시가 내려지면 애플리케이션의 리소스 요구 사항에 대한 디스크립션과 각 노드에서 사용 가능한 리소스에 따라 애플리케이션을 실행할 가장 적합한 노드를 선택할 수 있다. 
* 상태 확인과 자가 치유
  * 쿠버네티스는 애플리케이션 구성 요소와 애플리케이션이 구동 중인 노드를 모니터링하다가 노드 장애 발생 시 자동으로 애플리케이션을 다른 노드로 스케줄링한다. 
* 오토스케일링
  * 쿠버네티스는 각 애플리케이션에서 사용하는 리소스를 모니터링하고 각 애플리케이션의 실행 중인 인스턴스 수를 계속 조정하도록 지시할 수 있다. 클라우드 인프라에서 쿠버네티스가 실행 중인 경우 API를 통해 노드를 추가하면 배포된 애플리케이션의 부하에 따라 전체 클러스터 크기를 자동으로 확장하거나 축소할 수 있다.

---

