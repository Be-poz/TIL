# 스파크

스파크는 실행 엔진으로 맵리듀스를 사용하지 않는다. 대신 스파크는 클러스터 기반으로 작업을 실행하는 자체 분산 런타임 엔진이 있다. 하지만 스파크는 맵리듀스와 매우 비슷하다. 스파크는 하둡과 밀접하게 통합되어 있어서 YARN 기반으로 실행할 수 있고, 하둡 파일 포맷과 HDFS 같은 기반 저장소를 지원한다.  

스파크는 잡 사이의 대용량 작업 데이터셋을 메모리상에 유지할 수 있는 것으로 알려져 있다. 이런 특성 덕분에 동일한 기능을 수행하지만 매번 디스크에서 데이터셋을 읽는 맵리듀스 워크플로에 비해 10배 혹은 어떤 경우에는 더 빠른 성능을 보인다.  

스파크의 처리 모델로 큰 효과를 얻을 수 있는 두 가지 애플리케이션이 있다. 하나는 반복적 알고리즘이고 다른 하나는 대화형 분석이다.  

<br/>

### 스파크 애플리케이션, 잡, 스테이지, 태스크

스파크는 맵리듀스와 유사하게 잡이라는 개념이 있다. 스파크의 잡은 맵리듀스의 잡보다 훨씬 일반적이다. 하나의 맵과 하나의 리듀스로 구성된 단일 맵리듀스의 잡과 달리 스파크의 잡은 임의의 방향성 비순환 그래프(DAG)인 **스테이지**로 구성된다.  

스파크가 실행될 때 스테이지는 다수의 태스크로 분할되고, 각 태스크는 맵리듀스의 태스크와 같이 클러스터에 분산된 RDD ㅍ파티션에서 병렬로 실행된다.  

잡은 항상 RDD 및 공유변수를 제공하는 애플리케이션의 콘텍스트 내에서 실행된다. 하나의 애플리케이션은 하나 이상의 잡을 수행할 수 있으며, 직렬 또는 병렬로 실행되며, 동일한 애플리케이션에서 수행된 이전 잡에서 캐싱된 RDD에 접근할 수 있는 메커니즘을 제공한다.  

<br/>

### 트랜스포메이션과 액션

스파크는 RDD에 트랜스포메이션과 액션이라는 두 종류의 연산자를 제공한다.  
트랜스포메이션은 기존 RDD에서 새로운 RDD를 생성한다. 반면 액션은 특정 RDD를 계산하여 어떤 결과를 만들어낸다.  

---

